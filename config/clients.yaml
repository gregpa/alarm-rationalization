# Client Configurations for Alarm Rationalization Platform
# This file can be edited without modifying Python code
# The app will fall back to hardcoded defaults if this file fails to load

# =============================================================================
# FREEPORT LNG
# =============================================================================
# Tag source rules updated Jan 2026 per Honeywell_tag_info.xlsx reference
# Added 6 PTF areas (Units 60, 65, 66, 67, 68, 70) Jan 2026
# Added explicit Experion DCS, TDC, and additional point type rules
# Added INTERLOCK and ROC as Experion (DCS) per engineering direction
# =============================================================================
flng:
  name: "Freeport LNG"
  vendor: "Honeywell Experion/DynAMo"
  dcs_name: "DynAMo"
  pha_tool: "PHA-Pro"
  parser: "dynamo"
  unit_method: "TAG_PREFIX"
  unit_digits: 2
  default_source: "Honeywell TDC (DCS)"
  default_area: "lqf_u17"

  # Tag source rules based on Point Type (from Honeywell_tag_info.xlsx reference)
  # Evaluated in order - first match wins
  tag_source_rules:
    # ----- Safety Manager point types (Enforcement: R) -----
    - prefix: "SM"
      field: "point_type"
      source: "Honeywell Safety Manager (SIS)"
      enforcement: "R"

    # ----- SCADA point types -----
    - exact: "ANA"
      field: "point_type"
      source: "Honeywell Experion (SCADA)"
      enforcement: "M"
    - exact: "STA"
      field: "point_type"
      source: "Honeywell Experion (SCADA)"
      enforcement: "M"

    # ----- Tag name pattern (dot notation = Experion) -----
    - contains: "."
      field: "tag_name"
      source: "Honeywell Experion (DCS)"
      enforcement: "M"

    # ----- Experion DCS point types (from Honeywell_tag_info.xlsx) -----
    - exact: "AUTOMAN"
      field: "point_type"
      source: "Honeywell Experion (DCS)"
      enforcement: "M"
    - exact: "CAB"
      field: "point_type"
      source: "Honeywell Experion (DCS)"
      enforcement: "M"
    - exact: "DATAACQ"
      field: "point_type"
      source: "Honeywell Experion (DCS)"
      enforcement: "M"
    - exact: "DEVCTL"
      field: "point_type"
      source: "Honeywell Experion (DCS)"
      enforcement: "M"
    - exact: "DIGACQ"
      field: "point_type"
      source: "Honeywell Experion (DCS)"
      enforcement: "M"
    - exact: "FANOUT"
      field: "point_type"
      source: "Honeywell Experion (DCS)"
      enforcement: "M"
    - exact: "FLAG/CONTACTMON"
      field: "point_type"
      source: "Honeywell Experion (DCS)"
      enforcement: "M"
    - exact: "FLOWCOMP"
      field: "point_type"
      source: "Honeywell Experion (DCS)"
      enforcement: "M"
    - exact: "INTERLOCK"
      field: "point_type"
      source: "Honeywell Experion (DCS)"
      enforcement: "M"
    - exact: "OVRDSEL"
      field: "point_type"
      source: "Honeywell Experion (DCS)"
      enforcement: "M"
    - exact: "PID"
      field: "point_type"
      source: "Honeywell Experion (DCS)"
      enforcement: "M"
    - exact: "PID-PL"
      field: "point_type"
      source: "Honeywell Experion (DCS)"
      enforcement: "M"
    - exact: "PIDFF"
      field: "point_type"
      source: "Honeywell Experion (DCS)"
      enforcement: "M"
    - exact: "RATIOCTL"
      field: "point_type"
      source: "Honeywell Experion (DCS)"
      enforcement: "M"
    - exact: "REGCALC"
      field: "point_type"
      source: "Honeywell Experion (DCS)"
      enforcement: "M"
    - exact: "REMCAS"
      field: "point_type"
      source: "Honeywell Experion (DCS)"
      enforcement: "M"
    - exact: "ROC"
      field: "point_type"
      source: "Honeywell Experion (DCS)"
      enforcement: "M"
    - exact: "SIGNALSEL"
      field: "point_type"
      source: "Honeywell Experion (DCS)"
      enforcement: "M"
    - exact: "SWITCH"
      field: "point_type"
      source: "Honeywell Experion (DCS)"
      enforcement: "M"
    - exact: "TOTALIZER"
      field: "point_type"
      source: "Honeywell Experion (DCS)"
      enforcement: "M"

    # ----- TDC point types (from Honeywell_tag_info.xlsx) -----
    - exact: "ANALGIN"
      field: "point_type"
      source: "Honeywell TDC (DCS)"
      enforcement: "M"
    - exact: "CUSTOMAM"
      field: "point_type"
      source: "Honeywell TDC (DCS)"
      enforcement: "M"
    - exact: "DIGCOM"
      field: "point_type"
      source: "Honeywell TDC (DCS)"
      enforcement: "M"
    - exact: "DIGIN"
      field: "point_type"
      source: "Honeywell TDC (DCS)"
      enforcement: "M"
    - exact: "FLAGAM"
      field: "point_type"
      source: "Honeywell TDC (DCS)"
      enforcement: "M"
    - exact: "LOGIC"
      field: "point_type"
      source: "Honeywell TDC (DCS)"
      enforcement: "M"
    - exact: "REGAM"
      field: "point_type"
      source: "Honeywell TDC (DCS)"
      enforcement: "M"
    - exact: "REGCTL"
      field: "point_type"
      source: "Honeywell TDC (DCS)"
      enforcement: "M"
    - exact: "REGLATRY"
      field: "point_type"
      source: "Honeywell TDC (DCS)"
      enforcement: "M"
    - exact: "REGPV"
      field: "point_type"
      source: "Honeywell TDC (DCS)"
      enforcement: "M"
    - exact: "SWITCHAM"
      field: "point_type"
      source: "Honeywell TDC (DCS)"
      enforcement: "M"

  areas:
    lqf_u17:
      name: "LQF - Unit 17"
      description: "Liquefaction Facility Unit 17"
    ptf_u60:
      name: "PTF - Unit 60"
      description: "Pretreatment Facility Unit 60"
    ptf_u61:
      name: "PTF - Unit 61"
      description: "Pretreatment Facility Unit 61"
    ptf_u65:
      name: "PTF - Unit 65"
      description: "Pretreatment Facility Unit 65"
    ptf_u66:
      name: "PTF - Unit 66"
      description: "Pretreatment Facility Unit 66"
    ptf_u67:
      name: "PTF - Unit 67"
      description: "Pretreatment Facility Unit 67"
    ptf_u68:
      name: "PTF - Unit 68"
      description: "Pretreatment Facility Unit 68"
    ptf_u70:
      name: "PTF - Unit 70"
      description: "Pretreatment Facility Unit 70"

# =============================================================================
# HF SINCLAIR - ARTESIA
# =============================================================================
hfs_artesia:
  name: "HF Sinclair - Artesia"
  vendor: "Honeywell Experion/DynAMo"
  dcs_name: "DynAMo"
  pha_tool: "PHA-Pro"
  parser: "dynamo"
  unit_method: "TAG_PREFIX"
  unit_digits: 2
  default_source: "Honeywell TDC (DCS)"
  empty_mode_is_valid: true
  phapro_headers: "HFS"
  default_area: "north_console"

  # Tag source rules based on Point Type (from Honeywell_tag_info.xlsx reference)
  # Evaluated in order - first match wins
  tag_source_rules:
    # Safety Manager point types
    - prefix: "SM_"
      field: "point_type"
      source: "Honeywell Safety Manager"
      enforcement: "R"
    - exact: "SM"
      field: "point_type"
      source: "Honeywell Safety Manager"
      enforcement: "R"
    # SCADA point types
    - exact: "ANA"
      field: "point_type"
      source: "Honeywell Experion (SCADA)"
      enforcement: "M"
    - exact: "STA"
      field: "point_type"
      source: "Honeywell Experion (SCADA)"
      enforcement: "M"
    # Experion DCS point types
    - exact: "AUTOMAN"
      field: "point_type"
      source: "Honeywell Experion (DCS)"
      enforcement: "M"
    - exact: "CAB"
      field: "point_type"
      source: "Honeywell Experion (DCS)"
      enforcement: "M"
    - exact: "DATAACQ"
      field: "point_type"
      source: "Honeywell Experion (DCS)"
      enforcement: "M"
    - exact: "DEVCTL"
      field: "point_type"
      source: "Honeywell Experion (DCS)"
      enforcement: "M"
    - exact: "DIGACQ"
      field: "point_type"
      source: "Honeywell Experion (DCS)"
      enforcement: "M"
    - exact: "FANOUT"
      field: "point_type"
      source: "Honeywell Experion (DCS)"
      enforcement: "M"
    - exact: "FLAG/CONTACTMON"
      field: "point_type"
      source: "Honeywell Experion (DCS)"
      enforcement: "M"
    - exact: "FLOWCOMP"
      field: "point_type"
      source: "Honeywell Experion (DCS)"
      enforcement: "M"
    - exact: "OVRDSEL"
      field: "point_type"
      source: "Honeywell Experion (DCS)"
      enforcement: "M"
    - exact: "PID"
      field: "point_type"
      source: "Honeywell Experion (DCS)"
      enforcement: "M"
    - exact: "PID-PL"
      field: "point_type"
      source: "Honeywell Experion (DCS)"
      enforcement: "M"
    - exact: "PIDFF"
      field: "point_type"
      source: "Honeywell Experion (DCS)"
      enforcement: "M"
    - exact: "RATIOCTL"
      field: "point_type"
      source: "Honeywell Experion (DCS)"
      enforcement: "M"
    - exact: "REGCALC"
      field: "point_type"
      source: "Honeywell Experion (DCS)"
      enforcement: "M"
    - exact: "REMCAS"
      field: "point_type"
      source: "Honeywell Experion (DCS)"
      enforcement: "M"
    - exact: "SIGNALSEL"
      field: "point_type"
      source: "Honeywell Experion (DCS)"
      enforcement: "M"
    - exact: "SWITCH"
      field: "point_type"
      source: "Honeywell Experion (DCS)"
      enforcement: "M"
    - exact: "TOTALIZER"
      field: "point_type"
      source: "Honeywell Experion (DCS)"
      enforcement: "M"
    # TDC point types
    - exact: "ANALGIN"
      field: "point_type"
      source: "Honeywell TDC (DCS)"
      enforcement: "M"
    - exact: "CUSTOMAM"
      field: "point_type"
      source: "Honeywell TDC (DCS)"
      enforcement: "M"
    - exact: "DIGCOM"
      field: "point_type"
      source: "Honeywell TDC (DCS)"
      enforcement: "M"
    - exact: "DIGIN"
      field: "point_type"
      source: "Honeywell TDC (DCS)"
      enforcement: "M"
    - exact: "FLAGAM"
      field: "point_type"
      source: "Honeywell TDC (DCS)"
      enforcement: "M"
    - exact: "LOGIC"
      field: "point_type"
      source: "Honeywell TDC (DCS)"
      enforcement: "M"
    - exact: "REGAM"
      field: "point_type"
      source: "Honeywell TDC (DCS)"
      enforcement: "M"
    - exact: "REGCTL"
      field: "point_type"
      source: "Honeywell TDC (DCS)"
      enforcement: "M"
    - exact: "REGLATRY"
      field: "point_type"
      source: "Honeywell TDC (DCS)"
      enforcement: "M"
    - exact: "REGPV"
      field: "point_type"
      source: "Honeywell TDC (DCS)"
      enforcement: "M"
    - exact: "SWITCHAM"
      field: "point_type"
      source: "Honeywell TDC (DCS)"
      enforcement: "M"

  areas:
    north_console:
      name: "North Console"
      description: "North Console Area"

# =============================================================================
# RIO TINTO - BESSEMER CITY (ABB)
# =============================================================================
rt_bessemer:
  name: "Rio Tinto - Bessemer City"
  vendor: "ABB"
  dcs_name: "ABB"
  pha_tool: "PHA-Pro"
  parser: "abb"
  unit_method: "FIXED"
  unit_value: "Line 1"
  default_source: "ABB 800xA (DCS)"
  abb_priority_default: 3
  default_area: "line_1"

  tag_source_rules: []

  abb_alarm_types:
    H: "(PV) High"
    HH: "(PV) High High"
    HHH: "(PV) High High High"
    L: "(PV) Low"
    LL: "(PV) Low Low"
    LLL: "(PV) Low Low Low"
    OE: "Object Error"

  areas:
    line_1:
      name: "Line 1"
      description: "Production Line 1"

# =============================================================================
# PETROSTAR - VALDEZ, AK (DeltaV)
# =============================================================================
# New DeltaV client - requires deltav parser (SAMAlarmsReport XML format)
# PHA-Pro format: 27 columns (custom Petrostar format)
# Priority codes: C, W, Ad, O, Lg, N (custom - not standard U/C/H/M/L/J)
# Added: February 2026
# =============================================================================
petrostar_valdez:
  name: "Petrostar - Valdez"
  vendor: "Emerson DeltaV"
  dcs_name: "DeltaV"
  pha_tool: "PHA-Pro"
  parser: "deltav"
  phapro_headers: "PETROSTAR"

  # Unit extraction: PATH_PREFIX method (new for DeltaV)
  # 1. Extract 2-digit prefix from Path top-level (e.g., "14_DHT" -> "14")
  # 2. If no digits in path, fall back to tag name prefix (e.g., "18-AI-6128" -> "18")
  # 3. If tag prefix non-numeric, search for -NN- pattern (e.g., "EM-10-1005B" -> "10")
  # 4. Default to "X"
  unit_method: "PATH_PREFIX"
  unit_digits: 2
  unit_default: "X"

  default_source: "Emerson DeltaV (DCS)"
  default_area: "10_cdu"

  # DeltaV Priority -> PHA-Pro Priority Code mapping
  # Strip _N, _FG suffixes first, then apply this map
  deltav_priority_map:
    CRITICAL: "C"
    WARNING: "W"
    ADVISORY: "Ad"
    SOL_ALARM: "O"
    NOL_ALARM: "O"
    LOG: "Lg"

  # DeltaV priority suffix handling
  # _N and _FG suffixes are stripped and treated same as base priority
  deltav_priority_suffixes:
    - "_N"
    - "_FG"

  # Alarm Status derivation from priority code
  deltav_alarm_status:
    C: "Alarm"
    W: "Alarm"
    Ad: "Alarm"
    O: "Alarm"
    Lg: "Event"
    N: ""

  # FunctionalClassificationName -> Alarm Class mapping
  deltav_alarm_class_map:
    Safety: "Safety / PSM"
    Environmental Protection: "Regulatory"
    Equipment Protection: "Economic / Operational"
    Process Efficiency: "Economic / Operational"

  # No tag source rules needed - single source for all tags
  tag_source_rules: []

  # Area mapping from DeltaV Path top-level element
  areas:
    10_cdu:
      name: "10 CDU"
      description: "Crude Distillation Unit"
    14_dht:
      name: "14 DHT"
      description: "Distillate Hydrotreater"
    15_sru:
      name: "15 SRU"
      description: "Sulfur Recovery Unit"
    18_h2:
      name: "18 H2"
      description: "Hydrogen Unit"
    20_area:
      name: "Unit 20"
      description: "Unit 20 Area"
    30_area:
      name: "Unit 30"
      description: "Unit 30 Area"
    40_area:
      name: "Unit 40"
      description: "Unit 40 Area"
    cdu_heater:
      name: "CDU Heater"
      description: "CDU Heater Section"
    cdu_tower:
      name: "CDU Tower"
      description: "CDU Tower Section"
    cdu_ovhd:
      name: "CDU Overhead"
      description: "CDU Overhead Section"
    cdu_kerostripper:
      name: "CDU Kero Stripper"
      description: "CDU Kerosene Stripper Section"
    cdu_lagostripper:
      name: "CDU LAGO Stripper"
      description: "CDU LAGO Stripper Section"
    fire_and_gas:
      name: "Fire & Gas"
      description: "Fire and Gas Detection System"
    storm_wtr_tr:
      name: "Storm Water Treatment"
      description: "Storm Water Treatment Area"
    14_sis:
      name: "14 SIS"
      description: "Unit 14 Safety Instrumented System"
    sis:
      name: "SIS"
      description: "Safety Instrumented System"
    area_a:
      name: "Area A"
      description: "Area A"
    flare:
      name: "Flare"
      description: "Flare System"
    miscellaneous:
      name: "Miscellaneous"
      description: "Miscellaneous"
